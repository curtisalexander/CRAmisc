<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>unzip_dir. CRAmisc</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>

<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container">
      <header>
      
<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">CRAmisc</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/curtisalexander/CRAmisc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
      
      </header>

      <div class="page-header">
  <h1>Unzip all files in a directory.</h1>
</div>

<div class="row">
  <div class="col-md-9">
    
    <p>Unzip all files in a given directory, identified by extension, placing the
unzipped file in a separate output directory.</p>
    

    <pre><span class='fu'>unzip_dir</span>(<span class='no'>in_dir</span>, <span class='no'>out_dir</span>, <span class='no'>ext</span>)</pre>
    
    <h2>Arguments</h2>
    <dl class="dl-horizontal">
      <dt>in_dir</dt>
      <dd>Input directory containing the zipped files to convert.</dd>
      <dt>out_dir</dt>
      <dd>Output directory to place the unzipped files.</dd>
      <dt>ext</dt>
      <dd>Zipped file extension.  The extensions supported are
<ul>
<li> <code>gz</code> - gzipped files, unzipped with <code>gunzip</code>
  </li>
<li> <code>zip</code> - zip files, unzipped with <code>unzip</code>
  </li>
<li> <code>zipx</code> - zipx or archive files, unzipped with <code>unar</code>
</li>
</ul>
</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p>Invisibly returns a character vector of the zipped file basenames.</p>
    </div>

    <div class="Details">
      <h2>Details</h2>

      <p><code>unzip_dir</code> makes system calls to <code>gunzip</code>, <code>unzip</code>, and
<code>unar</code>.  Each of these need to be on the system <code>PATH</code> and able to
be called from <a href='http://www.rdocumentation.org/packages/system2/topics/base'>system2</a>.  Calls have only been tested on OSX at
this time.</p>
      <p>On OSX, <code>unar</code> may be installed via <a href = 'Homebrew'>http://brew.sh</a>
using the install command <code>brew install unar</code>.</p>
      <p>Finally, <code>unzip_dir</code> checks whether or not the output directory already
contains the file to be unzipped.  If the file already exists, then unzipping
is skipped for the file.  This allows one to re-run the function multiple
times without continually unzipping all files in the input directory.</p>
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>withr</span><span class='kw'>::</span><span class='fu'>with_dir</span>(
  <span class='kw'>new</span> <span class='kw'>=</span> <span class='fu'>tempdir</span>(),
  <span class='kw'>code</span> <span class='kw'>=</span> {

    <span class='co'># create two small tables to write out as files</span>
    <span class='no'>a_df</span> <span class='kw'>&lt;-</span> <span class='kw'>tibble</span><span class='kw'>::</span><span class='fu'>tribble</span>(
      ~<span class='no'>a</span>, ~<span class='no'>b</span>, ~<span class='no'>c</span>,
      <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>,
      <span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span>,
      <span class='fl'>7</span>, <span class='fl'>8</span>, <span class='fl'>9</span>
    )

    <span class='no'>d_df</span> <span class='kw'>&lt;-</span> <span class='kw'>tibble</span><span class='kw'>::</span><span class='fu'>tribble</span>(
      ~<span class='no'>d</span>, ~<span class='no'>e</span>, ~<span class='no'>f</span>,
      <span class='fl'>11</span>, <span class='fl'>22</span>, <span class='fl'>33</span>,
      <span class='fl'>44</span>, <span class='fl'>55</span>, <span class='fl'>66</span>,
      <span class='fl'>77</span>, <span class='fl'>88</span>, <span class='fl'>99</span>
    )
    <span class='co'># make a new input directory</span>
    <span class='fu'>system2</span>(<span class='kw'>command</span> <span class='kw'>=</span> <span class='st'>"mkdir"</span>,
            <span class='kw'>args</span> <span class='kw'>=</span> <span class='st'>"in_dir"</span>)
    <span class='fu'>setwd</span>(<span class='st'>"in_dir"</span>)

    <span class='co'># write csv files</span>
    <span class='kw'>readr</span><span class='kw'>::</span><span class='fu'>write_csv</span>(<span class='no'>a_df</span>, <span class='st'>"a.csv"</span>)
    <span class='kw'>readr</span><span class='kw'>::</span><span class='fu'>write_csv</span>(<span class='no'>d_df</span>, <span class='st'>"d.csv"</span>)

    <span class='co'># convert into gzip files</span>
    <span class='fu'>system2</span>(<span class='kw'>command</span> <span class='kw'>=</span> <span class='st'>"gzip"</span>,
            <span class='kw'>args</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"a.csv"</span>, <span class='st'>"d.csv"</span>))

    <span class='co'># make a new output directory</span>
    <span class='fu'>setwd</span>(<span class='st'>".."</span>)
    <span class='fu'>system2</span>(<span class='kw'>command</span> <span class='kw'>=</span> <span class='st'>"mkdir"</span>,
            <span class='kw'>args</span> <span class='kw'>=</span> <span class='st'>"out_dir"</span>)

    <span class='co'># unzip all files</span>
    <span class='fu'>unzip_dir</span>(<span class='st'>"in_dir"</span>, <span class='st'>"out_dir"</span>, <span class='st'>"gz"</span>)

    <span class='co'># list all files</span>
    <span class='fu'>system2</span>(<span class='kw'>command</span> <span class='kw'>=</span> <span class='st'>"ls"</span>,
            <span class='kw'>args</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"-l"</span>, <span class='st'>"out_dir"</span>))
  }
)</div></pre>
  </div>
  <div class="col-md-3">
  </div>
</div>

      <footer>
      <p>Built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>. Styled with <a href="http://getbootstrap.com">Bootstrap 3</a>.</p>
      </footer>
   </div>

  </body>
</html>
